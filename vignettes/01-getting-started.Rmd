---
title: "Getting Started with shortestpath"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with shortestpath}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
  %\VignetteDepends{knitr,shortestpath}
---
```{r, echo = FALSE, message = FALSE}
library(shortestpath)
library(knitr)
opts_chunk$set(dev = "svg")
```
```{r, echo = FALSE}
set.seed(22)
```

##Intro
The shortestpath package provides a set of functions to execute and visualize algorithms that solve shortest path problems. For example, shortestpath can plot individual steps of Dijkstra or A*-Search; print distance tables for each step of the Floyd-Warshall or Bellman-Ford algorithm or export graphs to human-readable TikZ.

## Create a Graph
As a first step a graph need to be created. There are many ways to create graph, which are explained in detail in generating-graphs vignette. For a quick example, we use the igraph function [`make_ring()`](http://igraph.org/r/doc/make_ring.html) to create an undirected ring graph `g` with positive edge weights. Next, `as.spgraph()` converts the graph into a shortest path graph. An spgraph is still a valid igraph, but it is also guaranteed to have a limited set of additional attributes (e.g. fixed vertex position, so that plots render consistently over optimization steps).

```{r, message=FALSE}
library(igraph)

g <- make_ring(4) %>%
    set_edge_attr("weight", value = c(2,2,3,1) ) %>%
    as.spgraph()

plot(g)
```

## Find the shortest path using Dijkstra 
We now want to find the the shortest path from "A" to "C" using Dijkstra's algorithm.
```{r}
d <- dijkstra(g, "A", "C")
print(d)
```

Dijsktra (and all other algorithms) returns an `spresults` object. In a nutshell (we will discuss them in more detail later on), an *spresults* object is a list of *spgraphs*, with each entry representing a single step of your algorithm. Details of the data structure can be found in the data-structures vignette.

## Plot the graph 
Use the normal `plot()` function to print all the steps of the Dijkstra algorithm. 
```{r,fig.width=7, fig.height=6}
par(mfrow = c(2, 2))
plot(d)
```
A detailed explanation of the single optimization steps and the `plot()` can be read in the processing and export vignette.  

<br> 
Additionally, the minimum distance table can be printed by calling the attribute `min_dists` of each step (spgraph).
```{r}
 for(step in d){ 
   print(step$min_dists)
   cat("\n")
   }
```
